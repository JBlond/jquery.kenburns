!function(a){function i(t,e){return this.target=t,this.options=a.extend({},this.defaults,e),this.init(),this}i.prototype={defaults:{duration:7e3,width:940,height:360,align:"random",zoom:1.1,debug:!1},canvas:null,image:null,interval:0,actual:{},state:"init",time:0,scale:1,align:"center",init:function(){let t=this;jQuery('<img alt=""  src=""/>').attr("src",jQuery(t.target).attr("src")).on("load",function(){null===t.canvas&&(jQuery(t.target).hide(),t.canvas=a("<canvas />")[0],jQuery(t.canvas).appendTo(jQuery(t.target).parent())),t.image=this,t.canvas.width=t.options.width,t.canvas.height=t.options.height,t.actual.width=t.canvas.width,t.actual.height=Math.floor(t.canvas.width/t.image.width*t.image.height),t.actual.x=(t.actual.width-t.canvas.width)/2*-1,t.actual.y=(t.actual.height-t.canvas.height)/2*-1,t.start()})},_context:function(){return this.canvas.getContext("2d")},_redraw:function(){var t=this,e=t._context();e.clearRect(0,0,t.canvas.width,t.canvas.height),e.drawImage(t.image,0,0,t.image.width,t.image.height,t.actual.x,t.actual.y,t.actual.width,t.actual.height),e.save()},_log:function(t){this.options.debug&&console.log("jQuery.kenburns > %s",t)},start:function(){"finish"!==this.state&&(0===this.time&&this._redraw(),this.exec())},exec:function(){function n(t){return(new Date).getTime()-t}let s=this,r=s._context(),h=function(t,e,a,i,n,s,r){let h=0,o=0;switch(r){case"top":h=(n-a)/2*-1;break;case"left":o=(s-i)/2*-1;break;case"bottom":h=(n-a)/2*-1,o=-1*(s-i);break;case"right":h=-1*(n-a),o=(s-i)/2*-1;break;default:h=(n-a)/2*-1,o=(s-i)/2*-1}return{x:t+h,y:e+o}},t=["top","left","center","bottom","right"];"animate"!==s.state&&("random"===s.options.align?s.align=t[Math.floor(Math.random()*t.length)]:s.align=s.options.align),0===s.time&&(s.time=n(0)),s.state="animate",s.interval=setInterval(function(){i=s.actual,t=s.scale,a=s.align,e=Math.floor(i.width*t),t=Math.floor(i.height*t);var t,e,a={x:(i=h(i.x,i.y,i.width,i.height,e,t,a)).x,y:i.y,width:e,height:t},i=n(s.time);if(s._log("State: "+s.state+", Passed: "+i+", Scale: "+s.scale+", Align: "+s.align),r.drawImage(s.image,0,0,s.image.width,s.image.height,a.x,a.y,a.width,a.height),r.save(),i>=s.options.duration)return s.state="finish",clearInterval(s.interval),!1;s.scale+=Math.abs(s.options.zoom-1)/s.options.duration*30},30)},set:function(t){this.options=a.extend(this.options,t)},reset:function(){this.scale=1,this.time=0,this.state="reset",clearInterval(this.interval),this.start()},pause:function(){clearInterval(this.interval)},stop:function(){this.scale=1,this.time=0,this.state="stop",clearInterval(this.interval)}},jQuery.fn.kenburns=function(e){let a=arguments;return this.each(function(){let t=jQuery(this).data("kenburns")||{};return t[e]?t[e].apply(t,Array.prototype.slice.call(a,1)):"object"!=typeof e&&e?void jQuery.error("Method "+e+" does not exist on jQuery.kenburns"):(t=new i(this,e),jQuery(this).data("kenburns",t),this)})}}(jQuery);